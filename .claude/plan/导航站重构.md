# å¯¼èˆªç«™ Supabase é‡æ„è®¡åˆ’

## é¡¹ç›®æ¦‚è¿°
å°†ç°æœ‰åŸºäºé£ä¹¦ API çš„å¯¼èˆªç«™è¿ç§»åˆ° Supabase æ•°æ®æºï¼Œå®ç°ç°ä»£åŒ– UI è®¾è®¡ï¼Œå¢åŠ å®æ—¶åä½œå’Œæ•°æ®åˆ†æåŠŸèƒ½ã€‚

## æ‰§è¡Œæ—¶é—´
2025-11-07

## æŠ€æœ¯æ ˆ
- **åç«¯**ï¼šNode.js + Express + Supabase
- **å‰ç«¯**ï¼šåŸç”Ÿ JavaScript + ç°ä»£ CSS (å¡ç‰‡è®¾è®¡)
- **æ•°æ®åº“**ï¼šSupabase (PostgreSQL)
- **éƒ¨ç½²**ï¼šVercel

## å·²å®Œæˆä»»åŠ¡

### âœ… 1. ç¯å¢ƒé…ç½®
- å®‰è£… @supabase/supabase-js ä¾èµ–
- åˆ›å»º .env.example ç¯å¢ƒå˜é‡æ¨¡æ¿
- åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„ SQL æ–‡ä»¶ (database/schema.sql)

### âœ… 2. Supabase æœåŠ¡æ¨¡å— (lib/supabase.js)
- navLinksService: å¯¼èˆªé“¾æ¥ CRUD æ“ä½œ
- categoriesService: åˆ†ç±»ç®¡ç†
- analyticsService: è®¿é—®ç»Ÿè®¡
- searchService: æœç´¢åŠŸèƒ½
- realtimeService: å®æ—¶è®¢é˜…

### âœ… 3. åç«¯ API é‡æ„ (server.js)
- GET /api/navigation - è·å–å¯¼èˆªæ•°æ®
- GET /api/search - æœç´¢é“¾æ¥
- POST /api/links - æ·»åŠ é“¾æ¥
- PUT /api/links/:id - æ›´æ–°é“¾æ¥
- DELETE /api/links/:id - åˆ é™¤é“¾æ¥
- GET /api/categories - è·å–åˆ†ç±»
- POST /api/analytics/track - è®°å½•ç‚¹å‡»
- GET /api/analytics/popular - çƒ­é—¨é“¾æ¥
- GET /api/analytics/stats - åˆ†ç±»ç»Ÿè®¡

### âœ… 4. ç°ä»£åŒ– UI è®¾è®¡ (public/css/modern-card.css)
- å¡ç‰‡ç€‘å¸ƒæµå¸ƒå±€
- æ¯›ç»ç’ƒæ•ˆæœ (Glass-morphism)
- å“åº”å¼è®¾è®¡
- æš—é»‘æ¨¡å¼æ”¯æŒ
- å¹³æ»‘åŠ¨ç”»è¿‡æ¸¡

## å¾…å®Œæˆä»»åŠ¡

### ğŸ”„ 5. å‰ç«¯ç»„ä»¶æ›´æ–°
éœ€è¦ä¿®æ”¹ public/js/modules/core/data-manager.js:
- é€‚é…æ–°çš„ API æ¥å£
- å¤„ç† Supabase æ•°æ®ç»“æ„
- å®ç°å®æ—¶æ›´æ–°è®¢é˜…

### ğŸ”„ 6. å®æ—¶åä½œåŠŸèƒ½
- WebSocket è¿æ¥ç®¡ç†
- å®æ—¶æ•°æ®åŒæ­¥
- åœ¨çº¿ç”¨æˆ·æ˜¾ç¤º

### ğŸ”„ 7. ç»Ÿè®¡åˆ†æåŠŸèƒ½
- è®¿é—®æ•°æ®å¯è§†åŒ–
- çƒ­é—¨é“¾æ¥æ’è¡Œ
- æœç´¢è¶‹åŠ¿åˆ†æ

## é…ç½®æ­¥éª¤

### 1. åˆ›å»º Supabase é¡¹ç›®
1. è®¿é—® [Supabase](https://supabase.com)
2. åˆ›å»ºæ–°é¡¹ç›®
3. è·å–é¡¹ç›® URL å’Œ API å¯†é’¥

### 2. é…ç½®æ•°æ®åº“
åœ¨ Supabase SQL ç¼–è¾‘å™¨ä¸­æ‰§è¡Œ `database/schema.sql` æ–‡ä»¶

### 3. è®¾ç½®ç¯å¢ƒå˜é‡
å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶å¡«å…¥ï¼š
```bash
SUPABASE_URL=ä½ çš„é¡¹ç›®URL
SUPABASE_ANON_KEY=ä½ çš„åŒ¿åå¯†é’¥
SUPABASE_SERVICE_KEY=ä½ çš„æœåŠ¡å¯†é’¥
PORT=3000
NODE_ENV=development
```

### 4. æœ¬åœ°è¿è¡Œ
```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### 5. è®¿é—®æµ‹è¯•
æ‰“å¼€ http://localhost:3000

## æ•°æ®è¿ç§»ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦ä»é£ä¹¦è¿ç§»æ•°æ®ï¼š
1. ä¿ç•™åŸæœ‰é£ä¹¦é…ç½®
2. è¿è¡Œè¿ç§»è„šæœ¬ï¼ˆå¾…åˆ›å»ºï¼‰
3. éªŒè¯æ•°æ®å®Œæ•´æ€§

## éƒ¨ç½²åˆ° Vercel

1. æ¨é€ä»£ç åˆ° GitHub
2. åœ¨ Vercel å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡
4. éƒ¨ç½²

## æ³¨æ„äº‹é¡¹

1. **Supabase é…ç½®**
   - ç¡®ä¿å¯ç”¨ Row Level Security (RLS)
   - é…ç½®é€‚å½“çš„è®¿é—®ç­–ç•¥
   - å®šæœŸå¤‡ä»½æ•°æ®

2. **æ€§èƒ½ä¼˜åŒ–**
   - å¯ç”¨æ•°æ®ç¼“å­˜
   - ä½¿ç”¨ CDN åŠ é€Ÿé™æ€èµ„æº
   - å®æ–½æ‡’åŠ è½½

3. **å®‰å…¨è€ƒè™‘**
   - ä¸è¦æš´éœ² service_role key
   - ä½¿ç”¨ HTTPS
   - å®æ–½é€Ÿç‡é™åˆ¶

## æ–‡ä»¶å˜æ›´æ¸…å•

### æ–°å¢æ–‡ä»¶
- `.env.example` - ç¯å¢ƒå˜é‡æ¨¡æ¿
- `database/schema.sql` - æ•°æ®åº“è¡¨ç»“æ„
- `lib/supabase.js` - Supabase æœåŠ¡æ¨¡å—
- `public/css/modern-card.css` - ç°ä»£åŒ– UI æ ·å¼

### ä¿®æ”¹æ–‡ä»¶
- `server.js` - é›†æˆ Supabase API
- `package.json` - æ·»åŠ  @supabase/supabase-js ä¾èµ–

### å¾…ä¿®æ”¹æ–‡ä»¶
- `public/js/modules/core/data-manager.js`
- `public/js/modules/features/link-manager.js`
- `public/index.html`

## é¡¹ç›®ç‰¹è‰²

1. **æ— ç¼è¿ç§»** - ä¿ç•™åŸæœ‰æ¨¡å—åŒ–æ¶æ„
2. **å®æ—¶åä½œ** - å¤šäººåŒæ—¶ç¼–è¾‘
3. **æ•°æ®åˆ†æ** - è®¿é—®ç»Ÿè®¡å’Œè¶‹åŠ¿
4. **ç°ä»£ UI** - å¡ç‰‡è®¾è®¡ã€æ¯›ç»ç’ƒæ•ˆæœ
5. **é«˜æ€§èƒ½** - ç¼“å­˜ç­–ç•¥ã€æ‡’åŠ è½½
6. **æ˜“ç»´æŠ¤** - æ¸…æ™°çš„ä»£ç ç»“æ„

## åç»­ä¼˜åŒ–å»ºè®®

1. æ·»åŠ ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
2. å®ç°æ‹–æ‹½æ’åºåŠŸèƒ½
3. å¢åŠ å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½
4. æ·»åŠ æ›´å¤šä¸»é¢˜æ ·å¼
5. å®ç° AI æ¨èåŠŸèƒ½
6. æ·»åŠ å¤šè¯­è¨€æ”¯æŒ